<!DOCTYPE html>
<html>
  <body>
    <section class="card">
      <div class="row">
        <input
          id="contractAddr"
          class="mono"
          placeholder="contract address 0x..."
        />
        <button id="loadContractBtn">Load contract</button>
        <span>owner: <span id="ownerAddr" class="mono">-</span></span>
        <span>orderCounter: <span id="orderCounter" class="mono">-</span></span>
      </div>
      <div class="row">
        <span
          >contract balance: <span id="contractBal" class="mono">-</span></span
        >
        <span
          >fees collected: <span id="feesCollected" class="mono">-</span></span
        >
        <button id="refreshGlobalsBtn">Refresh</button>
      </div>
      <div class="row">
        <input id="inspectOrderId" type="number" placeholder="orderId" />
        <button id="inspectOrderBtn">Inspect order</button>
      </div>
      <pre id="inspectOrderJson" class="pre">{}</pre>
      <div class="section muted">live events</div>
      <pre id="events" class="pre"></pre>
      <div id="status" class="muted">ready</div>
    </section>

    <nav class="tabs">
      <button class="tab active" data-tab="customer">Customer</button>
      <button class="tab" data-tab="store">Restaurant Owner</button>
      <button class="tab" data-tab="driver">Driver</button>
    </nav>

    <!-- CUSTOMER -->
    <section id="customer" class="tabpanel active">
      <div class="grid">
        <div class="card">
          <h3>Select restaurant</h3>
          <div class="row">
            <input
              id="customerStoreAddr"
              class="mono"
              placeholder="restaurant store address 0x..."
            />
            <button id="loadMenuBtn">Load menu</button>
          </div>
          <div class="muted">
            Owners manage menus in the Restaurant Owner tab. Menus are stored
            off-chain per store address.
          </div>
          <div id="menuList"></div>
        </div>

        <div class="card">
          <h3>Your cart</h3>
          <div id="cartList"></div>
          <div class="row">
            <button id="clearCartBtn">Clear cart</button>
          </div>
          <div class="summary">
            <div>
              food subtotal: <span id="cartSubtotal" class="mono">0</span> wei
            </div>
            <div class="row">
              <input
                id="tipRestaurant"
                type="number"
                placeholder="restaurant tip wei"
              />
              <input
                id="tipDriver"
                type="number"
                placeholder="driver tip wei"
              />
            </div>
            <div class="row">
              <input
                id="deliveryFee"
                type="number"
                placeholder="delivery fee wei"
              />
              <input
                id="processingFee"
                type="number"
                placeholder="processing fee wei"
              />
            </div>
            <div>
              total msg.value: <span id="cartTotal" class="mono">0</span> wei
            </div>
            <button id="checkoutBtn">Checkout and place order</button>
            <div id="checkoutMsg" class="ok"></div>
          </div>
        </div>
      </div>

      <div class="grid">
        <div class="card">
          <h3>My orders</h3>
          <button id="refreshMyOrdersBtn">Refresh my orders</button>
          <div id="myOrders"></div>
        </div>
      </div>
    </section>

    <!-- RESTAURANT OWNER -->
    <section id="store" class="tabpanel">
      <div class="grid">
        <div class="card">
          <h3>Store registration</h3>
          <div class="row">
            <button id="registerStoreBtn">registerStore</button>
            <span id="storeRegState" class="pill">unknown</span>
          </div>
          <div class="row">
            <button id="storeOrdersPlacedBtn">Placed</button>
            <button id="storeOrdersAcceptedBtn">Accepted</button>
            <button id="storeOrdersReadyBtn">ReadyForPickup</button>
            <button id="storeOrdersOnDeliveryBtn">OnDelivery</button>
            <button id="storeOrdersDeliveredBtn">Delivered</button>
            <button id="storeOrdersCompletedBtn">Completed</button>
            <button id="storeOrdersCanceledBtn">Canceled</button>
          </div>
          <div id="storeOrders"></div>
        </div>

        <div class="card">
          <h3>Menu editor</h3>
          <div class="muted">
            Menus are stored locally by store address. Enter your store address
            to edit.
          </div>
          <div class="row">
            <input
              id="ownerStoreAddr"
              class="mono"
              placeholder="your store address 0x..."
            />
            <button id="loadOwnerMenuBtn">Load my menu</button>
          </div>
          <div class="row">
            <input id="menuItemName" placeholder="Item name" />
            <input
              id="menuItemPrice"
              type="number"
              placeholder="Price in wei"
            />
            <button id="addMenuItemBtn">Add item</button>
          </div>
          <div id="ownerMenuList"></div>
          <button id="saveMenuBtn">Save menu</button>
        </div>

        <div class="card">
          <h3>Order actions</h3>
          <div class="row">
            <input id="actAcceptId" type="number" placeholder="orderId" />
            <button id="acceptBtn">acceptOrder</button>
          </div>
          <div class="row">
            <input id="actReadyId" type="number" placeholder="orderId" />
            <button id="readyBtn">readyForPickup</button>
          </div>
          <div class="row">
            <input id="actCancelId" type="number" placeholder="orderId" />
            <button id="storeCancelBtn">cancelOrder</button>
          </div>
        </div>
      </div>
    </section>

    <!-- DRIVER -->
    <section id="driver" class="tabpanel">
      <div class="grid">
        <div class="card">
          <h3>Driver registration</h3>
          <div class="row">
            <button id="registerDriverBtn">registerDriver</button>
            <span id="driverRegState" class="pill">unknown</span>
          </div>
        </div>

        <div class="card">
          <h3>Available deliveries</h3>
          <div class="row">
            <button id="refreshAvailableBtn">Refresh list</button>
          </div>
          <div id="availableOrders"></div>
        </div>

        <div class="card">
          <h3>Deliveries actions</h3>
          <div class="row">
            <input id="pickupOrderId" type="number" placeholder="orderId" />
            <button id="pickupBtn">pickedUpOrder</button>
          </div>
          <div class="row">
            <input id="deliveredOrderId" type="number" placeholder="orderId" />
            <button id="deliveredBtn">orderDelivered</button>
          </div>
          <div class="row">
            <input
              id="customerConfirmId"
              type="number"
              placeholder="orderId (for customer confirm)"
            />
            <button id="customerConfirmBtn">
              customer confirmOrderDelivered
            </button>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
